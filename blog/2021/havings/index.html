<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.68.3" />

    
    
    

<title>Handy SQL HAVING Clauses â€¢ Phil&#39;s Blog</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Handy SQL HAVING Clauses"/>
<meta name="twitter:description" content="Tricks with the &lsquo;HAVING&rsquo; clause Over the years I have collected a few handy HAVING clauses for SQL work. Here&rsquo;s a summary, with some test cases.
n.b. Watch out if you have nulls in your data! Some of these expressions will then degenerate into expressions comparing NULL for equality, which is obviously never true.
We&rsquo;ll need a table for testing:
drop table foo; create table foo(a int, b int) Contents  All values in B are distinct No NULLs in B B is all positive or all negative min(B) is negative, max(B) isn&rsquo;t B has at least one zero min(B) or max(B) or both is 0 B has more than 1 distinct value B has only 1 distinct value, or nulls B deviates above and below const by the same amount Values in B are sequential with no gaps  All values in B are distinct delete foo; insert into foo(a, b) values (1, 0); insert into foo(a, b) values (1, 1); insert into foo(a, b) values (1, 2); insert into foo(a, b) values (2, 0); insert into foo(a, b) values (2, 0); select a from foo group by a having count(distinct b) = count(b) No NULLs in B delete foo; insert into foo(a, b) values (1, 0); insert into foo(a, b) values (1, 1); insert into foo(a, b) values (1, 2); insert into foo(a, b) values (2, 0); insert into foo(a, b) values (2, null); select a from foo group by a having count(*) = count(b) B is all positive or all negative delete foo; insert into foo(a, b) values (1, 0); insert into foo(a, b) values (1, 1); insert into foo(a, b) values (1, 2); insert into foo(a, b) values (2, 1); insert into foo(a, b) values (2, 2); insert into foo(a, b) values (2, 3); insert into foo(a, b) values (3, -1); insert into foo(a, b) values (3, -2); insert into foo(a, b) values (3, -3); insert into foo(a, b) values (4, 4); insert into foo(a, b) values (4, -2); insert into foo(a, b) values (4, -3); insert into foo(a, b) values (5, 0); insert into foo(a, b) values (5, 0); insert into foo(a, b) values (5, 0); select a from foo group by a having min(b) * max(b) &gt; 0 If you change the above to having sign(min(b)) = sign(max(b)) then B can be all positive, all negative, or all zero."/>

<meta property="og:title" content="Handy SQL HAVING Clauses" />
<meta property="og:description" content="Tricks with the &lsquo;HAVING&rsquo; clause Over the years I have collected a few handy HAVING clauses for SQL work. Here&rsquo;s a summary, with some test cases.
n.b. Watch out if you have nulls in your data! Some of these expressions will then degenerate into expressions comparing NULL for equality, which is obviously never true.
We&rsquo;ll need a table for testing:
drop table foo; create table foo(a int, b int) Contents  All values in B are distinct No NULLs in B B is all positive or all negative min(B) is negative, max(B) isn&rsquo;t B has at least one zero min(B) or max(B) or both is 0 B has more than 1 distinct value B has only 1 distinct value, or nulls B deviates above and below const by the same amount Values in B are sequential with no gaps  All values in B are distinct delete foo; insert into foo(a, b) values (1, 0); insert into foo(a, b) values (1, 1); insert into foo(a, b) values (1, 2); insert into foo(a, b) values (2, 0); insert into foo(a, b) values (2, 0); select a from foo group by a having count(distinct b) = count(b) No NULLs in B delete foo; insert into foo(a, b) values (1, 0); insert into foo(a, b) values (1, 1); insert into foo(a, b) values (1, 2); insert into foo(a, b) values (2, 0); insert into foo(a, b) values (2, null); select a from foo group by a having count(*) = count(b) B is all positive or all negative delete foo; insert into foo(a, b) values (1, 0); insert into foo(a, b) values (1, 1); insert into foo(a, b) values (1, 2); insert into foo(a, b) values (2, 1); insert into foo(a, b) values (2, 2); insert into foo(a, b) values (2, 3); insert into foo(a, b) values (3, -1); insert into foo(a, b) values (3, -2); insert into foo(a, b) values (3, -3); insert into foo(a, b) values (4, 4); insert into foo(a, b) values (4, -2); insert into foo(a, b) values (4, -3); insert into foo(a, b) values (5, 0); insert into foo(a, b) values (5, 0); insert into foo(a, b) values (5, 0); select a from foo group by a having min(b) * max(b) &gt; 0 If you change the above to having sign(min(b)) = sign(max(b)) then B can be all positive, all negative, or all zero." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.philipdaniels.com/blog/2021/havings/" />
<meta property="article:published_time" content="2021-10-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-10-30T00:00:00+00:00" />


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/gruvbox-dark.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.328a08e64c91c64b1af9c913a417dacec4e78f52fc75317d3ca3aececc1e2290.css" integrity="sha256-MooI5kyRxksa&#43;ckTpBfazsTnj1L8dTF9PKOuzsweIpA=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="/favicon-128.png" sizes="128x128" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="/mstile-310x310.png" />

    

    
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-51573023-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.philipdaniels.com/">Phil&#39;s Blog</a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/5f3e5fe7d6a4062ad188336e06f1cb78?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Phil&#39;s Blog</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/blog">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/gitcheatsheet">
						<span>My Git CheatSheet</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about">
						<span>About</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	
	<a href="https://github.com/PhilipDaniels" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://stackoverflow.com/users/1313057/philip-daniels" rel="me"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="mailto:philip.daniels1971@gmail.com" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2021 Philip Daniels
  
</div>



  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1>Handy SQL HAVING Clauses</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Oct 30, 2021
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/sql">sql</a>
           
      
          <a class="badge badge-tag" href="/tags/having">having</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 7 min read
</div>


  </header>
  
  
  <div class="post">
    <h1 id="tricks-with-the-having-clause">Tricks with the &lsquo;HAVING&rsquo; clause</h1>
<p>Over the years I have collected a few handy HAVING clauses for SQL work. Here&rsquo;s a summary, with some test cases.</p>
<p><strong>n.b.</strong> Watch out if you have nulls in your data! Some of these expressions will then degenerate into expressions comparing NULL for equality, which is obviously never true.</p>
<p>We&rsquo;ll need a table for testing:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">drop</span> <span style="color:#66d9ef">table</span> foo; 
<span style="color:#66d9ef">create</span> <span style="color:#66d9ef">table</span> foo(a int, b int)
</code></pre></div><h1 id="contents">Contents</h1>
<ul>
<li><a href="#T1">All values in B are distinct</a></li>
<li><a href="#T2">No NULLs in B</a></li>
<li><a href="#T3">B is all positive or all negative</a></li>
<li><a href="#T4">min(B) is negative, max(B) isn&rsquo;t</a></li>
<li><a href="#T5">B has at least one zero</a></li>
<li><a href="#T6">min(B) or max(B) or both is 0</a></li>
<li><a href="#T7">B has more than 1 distinct value</a></li>
<li><a href="#T8">B has only 1 distinct value, or nulls</a></li>
<li><a href="#T9">B deviates above and below const by the same amount</a></li>
<li><a href="#T10">Values in B are sequential with no gaps</a></li>
</ul>
<h2 id="T1">All values in B are distinct</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">count</span>(<span style="color:#66d9ef">distinct</span> b) <span style="color:#f92672">=</span> <span style="color:#66d9ef">count</span>(b)
</code></pre></div><h2 id="T2">No NULLs in B</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#66d9ef">null</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">count</span>(<span style="color:#f92672">*</span>) <span style="color:#f92672">=</span> <span style="color:#66d9ef">count</span>(b)
</code></pre></div><h1 id="T3">B is all positive or all negative</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(b) <span style="color:#f92672">*</span> <span style="color:#66d9ef">max</span>(b) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>
</code></pre></div><p>If you change the above to <code>having sign(min(b)) = sign(max(b))</code> then B
can be all positive, all negative, <strong>or all zero</strong>.</p>
<h1 id="T4">min(B) is negative, max(B) isn&rsquo;t</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">6</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(b) <span style="color:#f92672">*</span> <span style="color:#66d9ef">max</span>(b) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>
</code></pre></div><h1 id="T5">B has at least one zero</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">6</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(<span style="color:#66d9ef">abs</span>(b)) <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</code></pre></div><h1 id="T6">min(B) or max(B) or both is 0</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(b) <span style="color:#f92672">*</span> <span style="color:#66d9ef">max</span>(b) <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</code></pre></div><h1 id="T7">B has more than 1 distinct value</h1>
<p>Possibly faster than <code>count(b) &gt; 1</code>?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">6</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(b) <span style="color:#f92672">&lt;</span> <span style="color:#66d9ef">max</span>(b)
</code></pre></div><h1 id="T8">B has only 1 distinct value, or nulls</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">6</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">99</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">9</span>, <span style="color:#66d9ef">null</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(b) <span style="color:#f92672">=</span> <span style="color:#66d9ef">max</span>(b)
</code></pre></div><h1 id="T9">B deviates above and below const by the same amount</h1>
<p><strong>n.b.</strong> Eliminate the const for deviation around zero.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">8</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">14</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">6</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">8</span>, <span style="color:#66d9ef">null</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">8</span>, <span style="color:#66d9ef">null</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">99</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">9</span>, <span style="color:#66d9ef">null</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> <span style="color:#66d9ef">min</span>(b <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>) <span style="color:#f92672">=</span> <span style="color:#f92672">-</span><span style="color:#66d9ef">max</span>(b <span style="color:#f92672">-</span> <span style="color:#ae81ff">5</span>)	<span style="color:#75715e">-- const = 5
</span></code></pre></div><h1 id="T10">Values in B are sequential with no gaps</h1>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-SQL" data-lang="SQL"><span style="color:#66d9ef">delete</span> foo;
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">1</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">2</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">3</span>, <span style="color:#ae81ff">3</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">4</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">4</span>, <span style="color:#ae81ff">14</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">0</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">6</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">7</span>, <span style="color:#f92672">-</span><span style="color:#ae81ff">10</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">8</span>, <span style="color:#66d9ef">null</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">8</span>, <span style="color:#66d9ef">null</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">9</span>, <span style="color:#ae81ff">99</span>);
<span style="color:#66d9ef">insert</span> <span style="color:#66d9ef">into</span> foo(a, b) <span style="color:#66d9ef">values</span> (<span style="color:#ae81ff">9</span>, <span style="color:#66d9ef">null</span>);

<span style="color:#66d9ef">select</span> a
<span style="color:#66d9ef">from</span> foo
<span style="color:#66d9ef">group</span> <span style="color:#66d9ef">by</span> a
<span style="color:#66d9ef">having</span> (<span style="color:#66d9ef">max</span>(b) <span style="color:#f92672">-</span> <span style="color:#66d9ef">min</span>(b) <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">=</span> <span style="color:#66d9ef">count</span>(b)
</code></pre></div>
  </div>
  

<div class="navigation navigation-single">
    
    <a href="/blog/2020/self-cloning-for-multiple-threads-in-rust/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Cloning yourself - a refactoring for thread-spawning Rust types</span>
    </a>
    
    
    <a href="/blog/2021/rust-fn-traits/" class="navigation-next">
      <span class="navigation-tittle">Rust Fn Traits</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'philipdanielscomblog';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-51573023-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/rust.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/cs.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/bash.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/python.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/css.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/http.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/ini.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/javascript.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/json.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/markdown.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/sql.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/html.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/xml.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/dockerfile.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/scss.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/r.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/typescript.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/go.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/cpp.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/dos.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/plaintext.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/powershell.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/diff.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/makefile.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/lisp.min.js"></script>
            
        
    
    <script type="text/javascript">
        
        hljs.configure({languages: ["rust, cs, bash, python, css, http, ini, javascript, json, markdown, sql, html, xml, dockerfile, scss, r, typescript, go, cpp, dos, plaintext, powershell, diff, makefile, lisp"]});
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
