<!DOCTYPE html>
<html lang="en-us">
    
    


    <head>
    <link href="https://gmpg.org/xfn/11" rel="profile">
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Cache-Control" content="public" />
<!-- Enable responsiveness on mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="generator" content="Hugo 0.53" />

    
    
    

<title>Spacemacs - First Steps • Phil&#39;s Blog</title>


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Spacemacs - First Steps"/>
<meta name="twitter:description" content="Moving to Spacemacs I recently declared, if not quite .emacs bankruptcy , then at least Chapter 11 status. After a long time keeping my .emacs as a single file, I refactored it into a set of self contained lisp files of the form:
(require &#39;other-peoples-packages) ...my config... (provide &#39;my-package)  Then I just ensured the director with all these files was on my load-path and simply required my own little packages."/>

<meta property="og:title" content="Spacemacs - First Steps" />
<meta property="og:description" content="Moving to Spacemacs I recently declared, if not quite .emacs bankruptcy , then at least Chapter 11 status. After a long time keeping my .emacs as a single file, I refactored it into a set of self contained lisp files of the form:
(require &#39;other-peoples-packages) ...my config... (provide &#39;my-package)  Then I just ensured the director with all these files was on my load-path and simply required my own little packages." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://www.philipdaniels.com/blog/2017/spacemacs-first-steps/" /><meta property="article:published_time" content="2017-02-06T20:19:45&#43;00:00"/>
<meta property="article:modified_time" content="2017-02-06T20:19:45&#43;00:00"/>


    


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/gruvbox-dark.min.css">








<link rel="stylesheet" href="/scss/hyde-hyde.9181f25ed2263aeb878ec6f8a84f10c4ebb16150000fca8767308880bdde5ca0.css" integrity="sha256-kYHyXtImOuuHjsb4qE8QxOuxYVAAD8qHZzCIgL3eXKA=">


<link rel="stylesheet" href="/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css" integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58&#43;TzH3icCkSHGoJ&#43;ed7w=" media="print">



    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
    <link rel="shortcut icon" href="/favicon.png">
    

    
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-51573023-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
</head>


    <body class=" ">
    
<div class="sidebar">
  <div class="container ">
    <div class="sidebar-about">
      <span class="site__title">
        <a href="https://www.philipdaniels.com/">Phil&#39;s Blog</a>
      </span>
      
      
        <div class="author-image">
          <img src="https://www.gravatar.com/avatar/5f3e5fe7d6a4062ad188336e06f1cb78?s=240&d=mp" class="img--circle img--headshot element--center" alt="gravatar">
        </div>
      
      <p class="site__description">
        
      </p>
    </div>
    <div class="collapsible-menu">
      <input type="checkbox" id="menuToggle">
      <label for="menuToggle">Phil&#39;s Blog</label>
      <div class="menu-content">
        <div>
	<ul class="sidebar-nav">
		 
		 
			 
				<li>
					<a href="/blog">
						<span>Posts</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/gitcheatsheet">
						<span>My Git CheatSheet</span>
					</a>
				</li>
			 
		 
			 
				<li>
					<a href="/about">
						<span>About</span>
					</a>
				</li>
			 
		
		</li>
	</ul>
</div>

        <section class="social">
	
	
	
	<a href="https://github.com/PhilipDaniels" rel="me"><i class="fab fa-github fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	<a href="https://stackoverflow.com/users/1313057/philip-daniels" rel="me"><i class="fab fa-stack-overflow fa-lg" aria-hidden="true"></i></a>
	
	
	
	
	
	
	
	<a href="mailto:philip.daniels1971@gmail.com" rel="me"><i class="fas fa-at fa-lg" aria-hidden="true"></i></a>
	
</section>

      </div>
    </div>
    
<div class="copyright">
  &copy; 2019 Philip Daniels
  
</div>



  </div>
</div>

        <div class="content container">
            
    <article>
  <header>
    <h1>Spacemacs - First Steps</h1>
    
    
<div class="post__meta">
    
    
      <i class="fas fa-calendar-alt"></i> Feb 6, 2017
    
    
    
    
    
      
      
          <br/>
           <i class="fas fa-tags"></i>
          
          <a class="badge badge-tag" href="/tags/emacs">emacs</a>
           
      
          <a class="badge badge-tag" href="/tags/spacemacs">spacemacs</a>
          
      
    
    
    <br/>
    <i class="fas fa-clock"></i> 6 min read
</div>


  </header>
  
  
  <div class="post">
    

<h1 id="moving-to-spacemacs">Moving to Spacemacs</h1>

<p>I recently declared, if not
quite <a href="https://www.emacswiki.org/emacs/DotEmacsBankruptcy">.emacs bankruptcy</a>
, then at least Chapter 11 status. After a long time keeping my .emacs as a single
file, I refactored it into a set of self contained lisp files of the form:</p>

<pre><code class="language-lisp">(require 'other-peoples-packages)
...my config...
(provide 'my-package)
</code></pre>

<p>Then I just ensured the director with all these files was on my <code>load-path</code> and simply
<code>require</code>d my own little packages.</p>

<p>This worked very nicely, and seemed to have the side effect of speeding up Emacs
startup. However, I still had quite a way to go to configure a proper
development environment, especially code completion, so I decided to take a look
at <a href="https://github.com/syl20bnr/spacemacs">Spacemacs</a> since it claims to have
such stuff &ldquo;preconfigured, out of the box&rdquo;. Interestingly, it seemed to be using
many of the packages that I was already using in my own configuration, so I
hoped to be able to eliminate some of my own code.</p>

<h1 id="installation">Installation</h1>

<p>To avoid clobbering my existing Emacs configuration I created a new user in
Linux Mint and simply followed the instructions at the Github repo. The first
time that Spacemacs starts you are asked what editing style you prefer - Vim or
Emacs - and it downloads a lot of packages from the Emacs package archives.</p>

<p>I had previously been put off from Spacemacs by the stress that the
documentation places on Evil mode, however I am pleased to report that if you
choose Emacs style editing then, as far as I can tell, it works just like
standard Emacs does - at least if you are used
to <a href="https://github.com/emacs-helm/helm">Helm</a> and <a href="https://github.com/abo-abo/hydra">Hydra</a>.</p>

<h1 id="porting-my-emacs-configuration">Porting my .emacs configuration</h1>

<p>Once I was up and running the process of porting my existing .emacs began. This
was a frustrating process to begin with, it took me a few days to grok what was
really happening. It has to be said that
the <a href="http://spacemacs.org/doc/DOCUMENTATION">documentation</a> is excellent, but
there is a lot to take in at one sitting.</p>

<p>As an experienced Emacs user with a significant amount of configuration to
port, <a href="http://spacemacs.org/doc/DOCUMENTATION#dotfile-configuration">the advice</a>
to put most of your customization in the <code>dotspacemacs/user-config</code> function
doesn&rsquo;t feel like a good move. It could end up being huge and would in fact be a
backward step from my nicely modularized configuration.</p>

<p>The route I quickly decided on was to write my
own <a href="http://spacemacs.org/doc/LAYERS.html#introduction">Spacemacs layer</a>, which
I called simply &ldquo;pd&rdquo;. Layers come with a pre-defined set of files which are
loaded in a specific order:</p>

<ul>
<li>layers.el (declare &ldquo;extra&rdquo; layers)</li>
<li>packages.el (where you configure the packages you are using)</li>
<li>funcs.el (where you declare functions, obviously)</li>
<li>config.el (for your layer&rsquo;s variables)</li>
<li>keybindings.el (general keybindings, not package specific)</li>
</ul>

<p><code>funcs.el</code> and <code>keybindings.el</code> were pretty easy to port. Writing <code>packages.el</code>
was a bit more challenging, one issue that I ran into was that I wanted to use a
function that I had declared in <code>funcs.el</code> as part of my initialization but it
wasn&rsquo;t loaded by then. It would make more sense to me to load <code>funcs.el</code> before
<code>packages.el</code>, but when you start to use a framework like Spacemacs you have to
work within the constraints it sets you. My <code>packages.el</code> has actually ended up
pretty small, it just brings in a few little custom packages that I like to use.</p>

<p>Incidentally, the trick to reusing packages that are not on ELPA - whether they
are yours or anyone else&rsquo;s - is just to create a folder under your layer called
&ldquo;local&rdquo;, for example, under my &ldquo;pd&rdquo; layer I have the <code>buffer-move</code> package
download from the Emacs wiki, and a package of my own containing hydras:</p>

<pre><code>pd\local\buffer-move\buffer-move.el
pd\local\pd-hydra\pd-hydra.el
</code></pre>

<p>I can then initialize them simply within <code>packages.el</code>:</p>

<pre><code class="language-lisp">(defun pd/init-pd-hydra ()
  (use-package pd-hydra))
</code></pre>

<p>I still have quite a number of settings that are not related to any package in
particular, and these have all ended up in the <code>dotspacemacs/user-config</code>
function. However, since Spacemacs seems so well configured out of the box, it&rsquo;s
a much smaller list than I used to have in my own .emacs configuration.</p>

<h1 id="replacing-hydras">Replacing hydras</h1>

<p>Spacemacs uses <a href="https://github.com/abo-abo/hydra">Hydra</a> to create what it calls
&ldquo;Transient States&rdquo;. One that caught my attention was the &ldquo;Window Manipulation
Transient State&rdquo;. which is bound to <code>SPC w .</code> by default. I had previously
developed my own very similar hydra, though with non-VIM keybindings and some
extra functions, such as the ability to open <code>helm-mini</code>, bring up dired, save
the current buffer etc.</p>

<p>I couldn&rsquo;t figure out a way of augmenting a built-in hydra - not really
surprising because the design of them is so intricate, especially if they use a
docstring. So I just copied the built-in one, pasted it into my <code>keybindings.el</code>
and hacked it until I had it just how I wanted it. Then I bound it to the
standard keybinding:</p>

<pre><code class="language-lisp">(spacemacs|define-transient-state pd-window-manipulation
  :title &quot;Phil's Window Manipulation Transient State.&quot;
  :doc (concat &quot;M-arrow = select, M-S-arrow = move, S-arrow = resize. 0-9 = select window N.

Split^^              Buffers^^      Windows^^          Files^^         Other
─────^^───────────── ───────^^───── ───────^^───────── ─────^^──────── ─────^^──────────────────
[___] vertical       [_n_] next     [_c_] close        [_b_] helm mini [_u_] restore prev layout
[_V_] vert &amp; follow  [_p_] previous [_o_] close others [_f_] helm find [_U_] restore next layout
[_|_] horizontal     [_k_] kill     [_r_] rotate fwd   [_d_] dired     [_F_] go to other frame
[_H_] horiz &amp; follow [_s_] save     [_R_] rotate bwd   [_t_] terminal  [_g_] golden-ratio-mode&quot;)

...


(spacemacs/set-leader-keys &quot;w.&quot; 'spacemacs/pd-window-manipulation-transient-state/body)
</code></pre>

<p>The full thing can be <a href="https://github.com/PhilipDaniels/pd">found here</a>, but be
warned, it is still evolving!</p>

<h1 id="theme-customization">Theme customization</h1>

<p>One of the first things I wanted to change in Spacemacs was the default theme.
Just my luck that my longstanding favourite theme
<a href="https://github.com/sellout/emacs-color-theme-solarized">Sellout&rsquo;s Solarized</a>
uses a non-standard loading mechanism and was a bit tricky to configure.
I <a href="https://www.philipdaniels.com/blog/2017/spacemacs-solarized/">have another post</a>
detailing how to do it.</p>

<h1 id="conclusion">Conclusion</h1>

<p>After hacking on it on and off for about a week I now have a Spacemacs
configuration that contains everything I deemed really important from my own
config, and in fact the amount of configuration code I need seems to have
diminished quite significantly. I was really surprised how small my
<code>packages.el</code> file had become when I reviewed it for this post.</p>

<p>Sometime in the not too distant future I expect to be moving over to using
Spacemacs rather than my old config. Just need to perfect my hyper key on Linux
first&hellip;I also want to take the opportunity to produce a set of keybindings that
are much more in line with the Windows and Visual Studio defaults.</p>

<p>If you are a new Emacs user or don&rsquo;t have much invested in your <code>.emacs</code>, I
would say it is a no-brainer - you should definitely start with Spacemacs rather
than Emacs. It is just a much better out-of-the-box experience.</p>

<p>If you are an intermediate or advanced user with a lot of configuration
investment, then I would still consider the switch worthwhile, but it will
probably take a little longer to get back to status quo. It would be nice if the
Spacemacs documentation had more guidance for users in this situation.</p>

  </div>
  

<div class="navigation navigation-single">
    
    <a href="/blog/2016/vm-networking-overview/" class="navigation-prev">
      <i aria-hidden="true" class="fa fa-chevron-left"></i>
      <span class="navigation-tittle">Network Setup in Hyper-V and Virtual Box</span>
    </a>
    
    
    <a href="/blog/2017/spacemacs-solarized/" class="navigation-next">
      <span class="navigation-tittle">Spacemacs - Configuring the Solarized Theme</span>
      <i aria-hidden="true" class="fa fa-chevron-right"></i>
    </a>
    
</div>


  

  
    
        <div id="disqus_thread"></div>
<script type="text/javascript">
    

    (function () {
    if (location.hostname === "localhost" ||
      location.hostname === "127.0.0.1" ||
      location.hostname === "") {
      return;
    }
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    var disqus_shortname = 'philipdanielscomblog';
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || 
      document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<noscript>
  Please enable JavaScript to view the
  <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>
<a href="http://disqus.com/" class="dsq-brlink">comments powered by
  <span class="logo-disqus">Disqus</span>
</a>

    


</article>


        </div>
        
    
  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-51573023-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>


<script defer src="https://use.fontawesome.com/releases/v5.5.0/js/all.js" integrity="sha384-GqVMZRt5Gn7tB9D9q7ONtcp4gtHIUEW/yG7h98J7IpE3kpi+srfFyyB/04OV6pG0" crossorigin="anonymous"></script>


    
    
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js"></script>
        
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/rust.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/cs.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/bash.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/python.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/css.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/http.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/ini.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/javascript.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/json.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/markdown.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/sql.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/html.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/xml.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/dockerfile.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/scss.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/r.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/typescript.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/go.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/cpp.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/dos.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/plaintext.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/powershell.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/diff.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/makefile.min.js"></script>
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/languages/lisp.min.js"></script>
            
        
    
    <script type="text/javascript">
        
        hljs.configure({languages: ["rust, cs, bash, python, css, http, ini, javascript, json, markdown, sql, html, xml, dockerfile, scss, r, typescript, go, cpp, dos, plaintext, powershell, diff, makefile, lisp"]});
        
        hljs.initHighlightingOnLoad();
    </script>
    




    



    </body>
</html>
